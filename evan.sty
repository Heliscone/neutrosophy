	\ProvidesPackage{evan}
	%%fakesection Argument processing
	% Default Arguments
	% We include "Evan" in all of these to make sure
	% that they don't collide with anything in external packages

	%---evan.sty dependencies---
		\usepackage{amsfonts}
		\usepackage{amsthm}
		\usepackage{amsmath}
		\usepackage{amssymb}
		\usepackage{cancel}
		\usepackage{ulem}
		\usepackage{graphicx}
	%---evan.sty options---
		\newif\ifevanfancy\evanfancytrue
		\newif\ifevanhdr\evanhdrtrue
		\newif\ifevanhref\evanhreftrue
		\newif\ifevansetup\evansetuptrue
		\newif\ifevanthm\evanthmtrue
		\newif\ifevansecthm\evansecthmfalse
		\newif\ifevanht\evanhtfalse
		\newif\ifevanpkg\evanpkgtrue
		\newif\ifevanpdf\evanpdftrue
		\newif\ifevanauthor\evanauthortrue
		% \newif\ifevanchinese\evanchinesefalse
		\newif\ifevanmdthm\evanmdthmfalse
		\newif\ifevandiagrams\evandiagramsfalse
		%\newif\ifevanpatchasy\evanpatchasyfalse
		% \newif\ifevanhints\evanhintsfalse
		\newif\ifevanasy\evanasytrue
		\newif\ifevancolorsec\evancolorsecfalse
		\newif\ifevantitlemark\evantitlemarktrue
		\newif\ifevanvonenabled\evanvonenabledfalse

	%---Receive Arguments---
		% \DeclareOption{chinese}{\evanhreffalse\evanchinesetrue} % Chinese support
		\DeclareOption{bagel}{\evansecthmtrue\evanmdthmtrue\evancolorsectrue\evandiagramstrue}
		\DeclareOption{lightbagel}{\evanmdthmtrue\evancolorsectrue\evandiagramstrue\evansecthmfalse}
		\DeclareOption{fancy}{\evanfancytrue}
		\DeclareOption{nofancy}{\evanfancyfalse}
		\DeclareOption{hdr}{\evanhdrtrue}
		\DeclareOption{nohdr}{\evanhdrfalse}
		\DeclareOption{href}{\evanhreftrue}
		\DeclareOption{nohref}{\evanhreffalse}

		\DeclareOption{nosetup}{\evansetupfalse}
		\DeclareOption{thm}{\evanthmtrue}
		\DeclareOption{nothm}{\evanthmfalse}
		\DeclareOption{secthm}{\evansecthmtrue}
		\DeclareOption{nosecthm}{\evansecthmfalse}

		\DeclareOption{ht}{\evanhttrue}
		\DeclareOption{nopdf}{\evanpdffalse}
		\DeclareOption{nopkg}{\evanpkgfalse}
		\DeclareOption{noauthor}{\evanauthorfalse}
		\DeclareOption{titlemark}{\evantitlemarktrue} % Sets title in ohead, not \rightmark
		\DeclareOption{sectionmark}{\evantitlemarkfalse} % Uses \rightmark not title in ohead

		\DeclareOption{mdthm}{\evanmdthmtrue}
		\DeclareOption{nomdthm}{\evanmdthmfalse}
		\DeclareOption{diagrams}{\evandiagramstrue}
		\DeclareOption{nodiagrams}{\evandiagramsfalse}
		\DeclareOption{colorsec}{\evancolorsectrue}
		\DeclareOption{nocolorsec}{\evancolorsecfalse}

		%\DeclareOption{patchasy}{\evanpatchasytrue}
		\DeclareOption{noasy}{\evanasyfalse}

		% \DeclareOption{hints}{\evanhintstrue}
		\DeclareOption{von}{\evanvonenabledtrue}

	%---Meditate---
		\ProcessOptions\relax

	%---Initial config-ifs---
		\ifevanpkg\else\evanmdthmfalse\fi
		\ifevanpkg\else\evanasyfalse\fi
		\ifevansetup\else\evanthmfalse\fi
		\ifevanpkg\usepackage{amsmath,amssymb}\fi
	%---Shorthand Commands---
		\newcommand{\cbrt}[1]{\sqrt[3]{#1}}
		\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}
		\newcommand{\ceiling}[1]{\left\lceil #1 \right\rceil}
		\newcommand{\paren}[1]{\left( #1 \right)}
		\newcommand{\mailto}[1]{\href{mailto:#1}{\texttt{#1}}}
		\newcommand{\ol}{\overline}
		\newcommand{\ul}{\underline}
		\newcommand{\wt}{\widetilde}
		\newcommand{\wh}{\widehat}
		\newcommand{\eps}{\varepsilon}
		\newcommand{\doesnotdivide}{\not\hspace{2.5pt}\mid}
		\newcommand{\doesnotimply}{\not\hspace{-6pt}\implies}	
		\renewcommand{\iff}{\Leftrightarrow}
		\renewcommand{\implies}{\Rightarrow}
		\providecommand{\alert}{\vocab}
		\providecommand{\half}{\frac{1}{2}}
	%---Misc Commands---
		\newcommand{\opname}{\operatorname}
		\renewcommand{\qedsymbol}{$\blacksquare$}
		\graphicspath{ {./images/} }	
		\newcommand{\vocab}[1]{\textbf{\color{blue} #1}}
		\newcommand{\catname}{\mathsf}
		\newcommand{\hrulebar}{\par\hspace{\fill}\rule{0.95\linewidth}{.7pt}\hspace{\fill}\par\nointerlineskip \vspace{\baselineskip}}
		%\author{Author\plusemail{email}}
		\newcommand{\plusemail}[1]{\\ \normalfont \texttt{\mailto{#1}}}

	%---Convenient Environments---
		\newenvironment{solution}{\begin{proof}[Solution]}{\end{proof}}
		\newenvironment{gobble}{\setbox\z@\vbox\bgroup}{\egroup}
		\newenvironment{moral}{%
				\begin{mdframed}[linecolor=green!70!black]%
				\bfseries\color{green!70!black}}%
			{\end{mdframed}}
	%---Lettering---
		\newcommand{\CC}{\mathbb C}
		\newcommand{\FF}{\mathbb F}
		\newcommand{\NN}{\mathbb N}
		\newcommand{\QQ}{\mathbb Q}
		\newcommand{\RR}{\mathbb R}
		\newcommand{\UU}{\mathbb U}
		\newcommand{\ZZ}{\mathbb Z}
		\def\P{\mathsf P}
		\def\A{\mathsf A}
		\def\B{\mathsf B}
		\def\C{\mathsf C}
		\def\D{\mathsf D}
		\def\E{\mathsf E}
		\def\F{\mathsf F}
		\def\G{\mathsf G}
		\def\N{\mathsf N}
		\def\Q{\mathsf Q}
		\def\R{\mathbf R}
		\def\Z{\mathsf Z}
		\newcommand{\SA}{\mathcal A}
		\newcommand{\SB}{\mathcal B}
		\newcommand{\SC}{\mathcal C}
		\newcommand{\SF}{\mathcal F}
		\newcommand{\SG}{\mathcal G}
		\newcommand{\SH}{\mathcal H}
		\newcommand{\OO}{\mathcal O}
		\newcommand{\SCA}{\mathscr A}
		\newcommand{\SCB}{\mathscr B}
		\newcommand{\SCC}{\mathscr C}
		\newcommand{\SCD}{\mathscr D}
		\newcommand{\SCE}{\mathscr E}
		\newcommand{\SCF}{\mathscr F}
		\newcommand{\SCG}{\mathscr G}
		\newcommand{\SCH}{\mathscr H}
		\newcommand{\km}{\mathfrak m}
		\newcommand{\kp}{\mathfrak p}
		\newcommand{\kq}{\mathfrak q}
		\newcommand{\kb}{\mathfrak b}
		\newcommand{\kg}{\mathfrak g}
		\newcommand{\kh}{\mathfrak h}
		\newcommand{\kn}{\mathfrak n}
		\newcommand{\ku}{\mathfrak u}
		\newcommand{\kz}{\mathfrak z}
		\newcommand{\kt}{\mathfrak t}
		\newcommand{\kd}{\mathfrak d}
		\newcommand{\ks}{\mathfrak s}
		\newcommand{\ko}{\mathfrak o}
		\def\gl{\opname{\mathfrak{gl}}} % frak gl group
		\def\sl{\opname{\mathfrak{sl}}}
		\def\sp{\opname{\mathfrak{sp}}}

	%---Operators---
		\DeclareMathOperator*{\sign}{sign}
		\DeclareMathOperator*{\Aut}{Aut}
		\DeclareMathOperator*{\Inn}{Inn}
		\DeclareMathOperator*{\Syl}{Syl}
		\DeclareMathOperator*{\Gal}{Gal}
		\DeclareMathOperator*{\GL}{GL} % General linear group
		\DeclareMathOperator*{\SL}{SL} % Special linear group
		\DeclareMathOperator*{\diag}{diag}
		\DeclareMathOperator*{\diam}{diam}
		\DeclareMathOperator*{\ord}{ord}
		\DeclareMathOperator*{\cis}{cis}
		\DeclareMathOperator*{\lcm}{lcm}
		\DeclareMathOperator*{\argmin}{arg min}
		\DeclareMathOperator*{\argmax}{arg max}
		\DeclareMathOperator{\Coker}{Coker} % Cokernel
		\DeclareMathOperator{\Ker}{Ker} % Kernel
		\DeclareMathOperator{\rank}{rank}
		\DeclareMathOperator{\Spec}{Spec} % spectrum
		\DeclareMathOperator{\Tr}{Tr} % trace
		\DeclareMathOperator{\pr}{pr} % projection
		\DeclareMathOperator{\ext}{ext} % extension
		\DeclareMathOperator{\pred}{pred} % predecessor
		\DeclareMathOperator{\Hom}{Hom} % homomorphism
		\DeclareMathOperator{\Mor}{Mor} % morphisms
		\DeclareMathOperator{\End}{End} % endomorphism
		\DeclareMathOperator{\Rad}{Rad}
		\DeclareMathOperator{\Ext}{Ext} % Ext functor
		\DeclareMathOperator{\Tor}{Tor} % Tor functor
		\DeclareMathOperator{\ad}{ad}
		\DeclareMathOperator{\Der}{Der}

	%---Other New Commands---
		\newcommand{\abs}[1]{\left\lvert #1 \right\rvert}
		\newcommand{\dang}{\measuredangle} %% Directed angle
		\newcommand{\ray}[1]{\overrightarrow{#1}}
		\newcommand{\arc}[1]{\wideparen{#1}}
		\newcommand{\id}{\mathrm{id}}
		\newcommand{\taking}[1]{\xrightarrow{#1}}
		\newcommand{\inv}{^{-1}}
		\newcommand{\liff}{\leftrightarrow}
		\newcommand{\surjto}{\twoheadrightarrow}
		\newcommand{\injto}{\hookrightarrow}
		\newcommand{\On}{\mathrm{On}} % ordinals
		\newcommand{\chara}{\opname{char}} % characteristic
		\newcommand{\prototype}[1]{
			\emph{{\color{red} Prototypical example for this section:} #1} \par\medskip
		}
	%---Commented Commands---
		% \DeclareMathOperator{\coker}{coker} % Cokernel
		% \DeclareMathOperator{\dom}{dom} % domain
		% \DeclareMathOperator{\ran}{ran} % range
		% \newcommand{\lthen}{\rightarrow}
		%diffyq the bad way
		% \newcommand{\dex}{\dot{\textbf{x}}}
		% \newcommand{\bx}{\textbf{x}}
		% \newcommand{\bv}{\textbf{v}}
			%Inequalities
		% \newcommand{\cycsum}{\sum_{\mathrm{cyc}}}
		% \newcommand{\symsum}{\sum_{\mathrm{sym}}}
		% \newcommand{\cycprod}{\prod_{\mathrm{cyc}}}
		% \newcommand{\symprod}{\prod_{\mathrm{sym}}}
		%From H113 "Introduction to Abstract Algebra" at UC Berkeley
		% \newcommand{\defeq}{\overset{\mathrm{def}}{=}}
		%From the USAMO .tex files
		% \newcommand{\ts}{\textsuperscript}
		% \newcommand{\dg}{^\circ}
		% \newcommand{\ii}{\item}
		% From Math 55 and Math 145 at Harvard
		%% Napkin commands
		% \newenvironment{subproof}[1][Proof]{%
		% \begin{proof}[#1] \renewcommand{\qedsymbol}{$\blacksquare$}}%
		% {\end{proof}}
	%--------------------
	%%---Asymptote setup---
		\ifevanasy
		\usepackage[inline]{asymptote}
		\begin{asydef}
			defaultpen(fontsize(10pt));
			size(7cm); // set a reasonable default
			usepackage("amsmath");
			usepackage("amssymb");
			settings.tex="pdflatex";
			settings.outformat="inline";
			// Replacement for olympiad+cse5 which is not standard
			import geometry;
			// recalibrate fill and filldraw for conics
			void filldraw(picture pic = currentpicture, conic g, pen fillpen=defaultpen, pen drawpen=defaultpen)
				{ filldraw(pic, (path) g, fillpen, drawpen); }
			void fill(picture pic = currentpicture, conic g, pen p=defaultpen)
				{ filldraw(pic, (path) g, p); }
			// some geometry
			pair foot(pair P, pair A, pair B) { return foot(triangle(A,B,P).VC); }
			pair orthocenter(pair A, pair B, pair C) { return orthocentercenter(A,B,C); }
			pair centroid(pair A, pair B, pair C) { return (A+B+C)/3; }
			// cse5 abbrevations
			path CP(pair P, pair A) { return circle(P, abs(A-P)); }
			path CR(pair P, real r) { return circle(P, r); }
			pair IP(path p, path q) { return intersectionpoints(p,q)[0]; }
			pair OP(path p, path q) { return intersectionpoints(p,q)[1]; }
			path Line(pair A, pair B, real a=0.6, real b=a) { return (a*(A-B)+A)--(b*(B-A)+B); }
			// cse5 more useful functions
			picture CC() {
				picture p=rotate(0)*currentpicture;
				currentpicture.erase();
				return p;
			}
			pair MP(Label s, pair A, pair B = plain.S, pen p = defaultpen) {
				Label L = s;
				L.s = "$"+s.s+"$";
				label(L, A, B, p);
				return A;
			}
			pair Drawing(Label s = "", pair A, pair B = plain.S, pen p = defaultpen) {
				dot(MP(s, A, B, p), p);
				return A;
			}

			path Drawing(path g, pen p = defaultpen, arrowbar ar = None) {
				draw(g, p, ar);
				return g;
			}
		\end{asydef}
		\fi
	%%---BEGIN MAIN SETUP---
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	\ifevansetup
	%%---Initial Configs
		\ifevanauthor
			\title{} % empty title to avoid crashes
			\author{\theauthor}
			\date{\today}
		\fi
		%%fakesection Hyperref
		\ifevanpkg
			\PassOptionsToPackage{svgnames,dvipsnames,table}{xcolor}
			\usepackage{xcolor}
			\ifevanhref
				\usepackage[colorlinks=true]{hyperref}
				\hypersetup{urlcolor=RubineRed,linkcolor=RoyalBlue,citecolor=ForestGreen}
			\fi
			\usepackage[nameinlink]{cleveref}
		\fi
	%%---Theorem Styles---
		\ifevanthm
			\usepackage{amsthm}
			\usepackage{thmtools}
		\fi
		\ifevanmdthm
			\ifevanthm
				%% theorem packages loaded already
			\else
				\usepackage{amsthm}
				\usepackage{thmtools}
			\fi
			\usepackage[framemethod=TikZ]{mdframed}
			\mdfdefinestyle{mdbluebox}{%
				linewidth=1pt,
				skipabove=12pt,
				innerbottommargin=9pt,
				skipbelow=2pt,
				linecolor=blue,
				nobreak=false,
				backgroundcolor=RoyalBlue!10,
			}
			\declaretheoremstyle[
				headfont=\sffamily\bfseries\color{MidnightBlue},
				mdframed={style=mdbluebox},
				headpunct={\\[3pt]},
				postheadspace={0pt}
			]{thmbluebox}
			\mdfdefinestyle{mdgreybox}{%
				linewidth=1pt,
				skipabove=12pt,
				innerbottommargin=9pt,
				skipbelow=2pt,
				linecolor=black,
				nobreak=false,
				backgroundcolor=gray!5,
			}
			\declaretheoremstyle[
				headfont=\sffamily\bfseries\color{Black},
				mdframed={style=mdgreybox},
				headpunct={\\[3pt]},
				postheadspace={0pt}
			]{thmgreybox}
			\mdfdefinestyle{mdredbox}{%
				linewidth=1pt,
				skipabove=12pt,
				frametitleaboveskip=5pt,
				frametitlebelowskip=0pt,
				skipbelow=2pt,
				frametitlefont=\bfseries,
				innertopmargin=8pt,
				innerbottommargin=8pt,
				nobreak=false,
				backgroundcolor=Salmon!5,
				linecolor=RawSienna,
			}
			\declaretheoremstyle[
				headfont=\bfseries\color{RawSienna},
				mdframed={style=mdredbox},
				headpunct={\\[3pt]},
				postheadspace={0pt},
			]{thmredbox}
			\mdfdefinestyle{mdgreenbox}{%
				skipabove=8pt,
				linewidth=2pt,
				rightline=true,
				leftline=true,
				topline=true,
				bottomline=true,
				linecolor=ForestGreen,
				backgroundcolor=ForestGreen!5,
			}
			\declaretheoremstyle[
				headfont=\bfseries\sffamily\color{ForestGreen!70!black},
				bodyfont=\normalfont,
				spaceabove=3pt,
				spacebelow=2pt,
				mdframed={style=mdgreenbox},
				headpunct={ --- },
			]{thmgreenbox}
			\mdfdefinestyle{mdblackbox}{%
				skipabove=8pt,
				linewidth=3pt,
				rightline=false,
				leftline=true,
				topline=false,
				bottomline=false,
				linecolor=black,
				backgroundcolor=RedViolet!5!gray!5,
			}
			\declaretheoremstyle[
				headfont=\bfseries,
				bodyfont=\normalfont\small,
				spaceabove=3pt,
				spacebelow=2pt,
				mdframed={style=mdblackbox}
			]{thmblackbox}
			\newcommand{\listhack}{$\empty$\vspace{-2em}}
		\fi
	%%---Theorem Setup--
		\ifevanthm
			\theoremstyle{definition}
			%Branching here: the option secthm changes theorems to be labelled by section
			\ifevanmdthm
				\ifevansecthm
					\declaretheorem[%
					style=thmgreenbox,name=Theorem,numberwithin=section]{theorem}
				\else
					\declaretheorem[%
					style=thmgreenbox,name=Theorem]{theorem}
				\fi
				\declaretheorem[style=thmgreybox,name=Lemma,sibling=theorem]{lemma}
				\declaretheorem[style=thmgreybox,name=Proposition,sibling=theorem]{proposition}
				\declaretheorem[style=thmgreybox,name=Corollary,sibling=theorem]{corollary}
				\declaretheorem[style=thmgreenbox,name=Theorem,numbered=no]{theorem*}
				\declaretheorem[style=thmgreybox,name=Lemma,numbered=no]{lemma*}
				\declaretheorem[style=thmgreybox,name=Proposition,numbered=no]{proposition*}
				\declaretheorem[style=thmgreybox,name=Corollary,numbered=no]{corollary*}
			\else
				\ifevansecthm
					\declaretheorem[name=Theorem,numberwithin=section]{theorem}
				\else
					\declaretheorem[name=Theorem]{theorem}
				\fi
				\declaretheorem[name=Lemma,sibling=theorem]{lemma}
				\declaretheorem[name=Proposition,sibling=theorem]{proposition}
				\declaretheorem[name=Corollary,sibling=theorem]{corollary}
				\declaretheorem[name=Theorem,numbered=no]{theorem*}
				\declaretheorem[name=Lemma,numbered=no]{lemma*}
				\declaretheorem[name=Proposition,numbered=no]{proposition*}
				\declaretheorem[name=Corollary,numbered=no]{corollary*}
			\fi
			\ifevanmdthm
				\declaretheorem[style=thmblackbox,name=Algorithm,sibling=theorem]{algorithm}
				\declaretheorem[style=thmblackbox,name=Algorithm,numbered=no]{algorithm*}
				\declaretheorem[style=thmblackbox,name=Claim,sibling=theorem]{claim}
				\declaretheorem[style=thmblackbox,name=Claim,numbered=no]{claim*}
			\else
				\declaretheorem[name=Algorithm,sibling=theorem]{algorithm}
				\declaretheorem[name=Algorithm,numbered=no]{algorithm*}
				\declaretheorem[name=Claim,sibling=theorem]{claim}
				\declaretheorem[name=Claim,numbered=no]{claim*}
			\fi
			\ifevanmdthm
				\declaretheorem[style=thmredbox,name=Example,sibling=theorem]{example}
				\declaretheorem[style=thmredbox,name=Example,numbered=no]{example*}
			\else
				\declaretheorem[name=Example,sibling=theorem]{example}
				\declaretheorem[name=Example,numbered=no]{example*}
			\fi
			% Remark-style theorems
			%\theoremstyle{remark}
			\ifevanmdthm
				\declaretheorem[style=thmblackbox,name=Remark,sibling=theorem]{remark}
				\declaretheorem[style=thmblackbox,name=Remark,numbered=no]{remark*}
				\declaretheorem[style=thmblackbox,name=Problem,sibling=theorem]{quest}
				\declaretheorem[style=thmblackbox,name=Problem,numbered=no]{quest*}
			\else
				\declaretheorem[name=Remark,sibling=theorem]{remark}
				\declaretheorem[name=Remark,numbered=no]{remark*}
				\declaretheorem[name=quest,sibling=theorem]{quest}
				\declaretheorem[name=quest,numbered=no]{quest*}
			\fi
			\declaretheorem[name=Conjecture,sibling=theorem]{conjecture}
			\declaretheorem[name=Conjecture,numbered=no]{conjecture*}
			\declaretheorem[style=thmblackbox,name=Definition,sibling=theorem]{definition}
			\declaretheorem[style=thmblackbox,name=Definition,numbered=no]{definition*}
			\declaretheorem[name=Exercise,sibling=theorem]{exercise}
			\declaretheorem[name=Exercise,numbered=no]{exercise*}
			\declaretheorem[name=Fact,sibling=theorem]{fact}
			\declaretheorem[name=Fact,numbered=no]{fact*}
			\declaretheorem[name=Problem,sibling=theorem]{problem}
			\declaretheorem[name=Problem,numbered=no]{problem*}
			\declaretheorem[name=Question,sibling=theorem]{ques}
			\declaretheorem[name=Question,numbered=no]{ques*}
			\Crefname{claim}{Claim}{Claims}
			\Crefname{conjecture}{Conjecture}{Conjectures}
			\Crefname{exercise}{Exercise}{Exercises}
			\Crefname{fact}{Fact}{Facts}
			\Crefname{problem}{Problem}{Problems}
			\Crefname{ques}{Question}{Questions}
		\fi
	%%---Fanciness---
		\ifevancolorsec
			\@ifundefined{KOMAClassName}{}{
				\@ifundefined{chapter}{}{
					\addtokomafont{partprefix}{\rmfamily}
					\renewcommand*{\partformat}{\color{purple}
						\scalebox{2.5}{\thepart}\enlargethispage{2em}}
					\addtokomafont{chapterprefix}{\raggedleft}
					\RedeclareSectionCommand[beforeskip=0.5em]{chapter}
					\renewcommand*{\chapterformat}{\mbox{%
						\scalebox{1.5}{\chapappifchapterprefix{\nobreakspace}}%
						\scalebox{2.718}{\color{purple}\thechapter}\enskip}}
				}
				\renewcommand*{\sectionformat}%
					{\color{purple}\S\thesection\enskip}
				\renewcommand*{\subsectionformat}%
					{\color{purple}\S\thesubsection\enskip}
				\renewcommand*{\subsubsectionformat}%
					{\color{purple}\S\thesubsubsection\enskip}
				\KOMAoptions{numbers=noenddot}
				%\usetocstyle{KOMAlike}
			}
		\fi
		%%fakesection Loads a bunch of useful packages (but allow disabling)
		\ifevanpkg
			\ifevanvonenabled
				\IfFileExists{von.sty}{\usepackage{von}}{}
			\fi
			\usepackage{listings}
			\usepackage{mathrsfs}
			\usepackage{textcomp}
			\lstset{basicstyle=\footnotesize\ttfamily,
				numbers=left,
				numbersep=5pt,
				numberstyle=\tiny,
				keywordstyle=\bfseries,
				% title=\lstname,
				showstringspaces=false,
				tabsize=4,
				frame=single,
				keywordstyle=\bfseries\color{blue},
				commentstyle=\color{green!70!black},
				identifierstyle=\color{green!20!black},
				stringstyle=\color{orange},
				breaklines=true,
				breakatwhitespace=true,
				frame=none
			}
			\usepackage[shortlabels]{enumitem}
			\usepackage[obeyFinal,textsize=scriptsize,shadow]{todonotes}
			\usepackage{textcomp}
			\usepackage{multirow}
			% Tiny tiny optimizations:
			\usepackage{mathtools}
			\usepackage{microtype}
			\usepackage{xstring}
			% a list I like for walkthrough's --- Drew-style parts
			\newlist{walk}{enumerate}{3}
			\setlist[walk]{label=\bfseries (\alph*)}
			% list item for MO style rubrics
			\newcommand{\worth}[1]{\def\hfill{\hskip 20pt plus 1fill}\dotfill%
				\IfEq{#1}{0}{\textbf{0~points}}%
				{\textbf{\color{blue}#1~point\IfEndWith{#1}{1}{}{s}}}%
				\par}
			\newcommand{\subworth}[1]{\def\hfill{\hskip 20pt plus 1fill}\dotfill%
				\IfEq{#1}{0}{{\footnotesize0~points}}%
				{\textbf{\footnotesize#1~point\IfEndWith{#1}{1}{}{s}}}%
				\par}
			\newlist{rubric}{enumerate}{2}
			\setlist[rubric,1]{label=\Roman*.}
			\setlist[rubric,2]{label=(\Roman{rubrici}.\alph*)}
		\fi
		%%fakesection \maketitle configuration
		\@ifundefined{KOMAClassName}%
			{} % do nothing outside KOMA class
			{% If KOMA exists. . .
			\addtokomafont{subtitle}{\Large}
			\setkomafont{author}{\Large\scshape}
			\setkomafont{date}{\Large\normalsize}
			}
		\providecommand{\thetitle}{\@title}
		\providecommand{\theauthor}{\@author}
		\providecommand{\thedate}{\@date}
		%%fakesection Commutative diagrams support
		\ifevandiagrams
			\usepackage{tikz-cd}
			\usetikzlibrary{decorations.pathmorphing}
		\fi
		%%fakesection Page Setup
		\ifevanfancy
			\@ifundefined{KOMAClassName}
			{
				\usepackage{fancyhdr}
				\setlength{\headheight}{0.75in}
				\setlength{\oddsidemargin}{0in}
				\setlength{\evensidemargin}{0in}
				\setlength{\voffset}{-1.0in}
				\setlength{\headsep}{10pt}
				\setlength{\textwidth}{6.5in}
				\setlength{\headwidth}{6.5in}
				\setlength{\textheight}{8.75in}
				\setlength{\parskip}{1ex plus 0.5ex minus 0.2ex}
				\setlength{\footskip}{0.3in}
				\ifevanhdr
					\renewcommand{\headrulewidth}{0.5pt}
					\renewcommand{\footrulewidth}{0.0pt}
					\pagestyle{fancy}
					\lhead{\theauthor}
					\chead{}
					\rhead{\nouppercase{\leftmark}}
					\lfoot{}
					\cfoot{\thepage}
					\rfoot{}
				\fi
			}
			{
				\usepackage[headsepline]{scrlayer-scrpage}
				\renewcommand{\headfont}{}
				\addtolength{\textheight}{3.14cm}
				\setlength{\footskip}{0.5in}
				\setlength{\headsep}{10pt}
				\ihead{\footnotesize\textbf{\theauthor} (\thedate)}
				\automark{section}
				\chead{}
				\ohead{\footnotesize\textbf{\thetitle}}
				\cfoot{\pagemark}
			}
		\fi
		%%fakesection Chinese support
		% \ifevanchinese
		% 	\usepackage[encapsulated]{CJK}
		% 	\usepackage{ucs}
		% 	\usepackage[utf8x]{inputenc}
		% 	\newenvironment{bsmi}{\begin{CJK}{UTF8}{bsmi}}{\end{CJK}}
		% 	\newcommand{\cn}[1]{\begin{bsmi}#1\end{bsmi}}
		% 	\AtBeginDocument{\begin{CJK}{UTF8}{bsmi}}
		% 	\AtEndDocument{\end{CJK}}
		% \fi
		%%fakesection Hints
		% \ifevanhints
		% 	\usepackage{answers}
		% 	\Newassociation{hint}{hintitem}{hints}
		% 	\renewcommand{\solutionextension}{out}
		% 	\Opensolutionfile{hints}
		% 	\newcommand{\makehints}{\Closesolutionfile{hints}\input{hints.out}} % chktex 27
		% \fi
	\fi